# v0.2 Action Plan

This action plan converts the v0.2 roadmap into execution-ready work packages,
with sequencing, explicit outputs, and exit criteria.

## Scope

v0.2 roadmap commitments from `STATUS.md`:
- CMA-ES (optional)
- Strategy composition
- Agent experiment generators
- Validation agents
- Improved reporting

## Delivery cadence

- **Sprint length:** 2 weeks
- **Total duration:** 12 weeks (6 sprints)
- **Definition of progress:** each sprint closes shippable increments with tests + docs

## Work packages

### WP1 — Governance and contract closure (Sprint 1)

**Goal**
Lock the decisions needed to execute v0.2 without contract drift.

**Tasks**
1. Add ADR for determinism policy (seed derivation + tolerance policy).
2. Add ADR for optimizer composition semantics (staged + portfolio behavior).
3. Reconcile `STATUS.md` roadmap and checklist fields with current implementation.

**Exit criteria**
- ADR checklist in `STATUS.md` has no unresolved v0.2 design blockers.
- `STATUS.md`, ADRs, and docs refer to the same v0.2 scope.

### WP2 — Deterministic constraints v1 (Sprints 2–3)

**Goal**
Introduce a reusable, simulation-agnostic constraints pipeline for optimization.

**Tasks**
1. Define constraint representation in ML layer (feasibility + penalty).
2. Integrate penalty handling into optimization evaluation/runner flow.
3. Persist constraint metadata in optimization history outputs.
4. Add unit + integration tests for deterministic penalty behavior.

**Exit criteria**
- Same inputs + same seed produce identical feasibility/penalty traces.
- Optimization outputs include stable, documented constraint metadata.

### WP3 — Composition strategies v1 (Sprints 3–4)

**Goal**
Provide first composable optimization orchestration under existing ask/tell contracts.

**Tasks**
1. Add composition interface(s) built on `OptimizerStrategy`.
2. Implement `StagedStrategy` baseline with explicit transition criteria.
3. Implement `PortfolioStrategy` baseline with deterministic allocator.
4. Add integration tests for ordering, transition, and convergence behavior.

**Exit criteria**
- Composition paths are deterministic under fixed seeds.
- Existing non-composed strategy flows remain backward compatible.

### WP4 — Agent workflow tooling v1 (Sprints 4–5)

**Goal**
Ship deterministic agent tooling for experiment generation and repository validation.

**Tasks**
1. Add experiment generator templates for common sweep/optimization scenarios.
2. Add validation agent checks for structure + reproducibility guardrails.
3. Ensure agents emit artifacts only (no hidden side effects).
4. Add tests that lock output structure and deterministic generation.

**Exit criteria**
- Generated artifacts are reproducible with fixed seed/config.
- Validation outputs clearly identify contract/reproducibility violations.

### WP5 — Reporting and artifact stabilization (Sprint 5)

**Goal**
Make v0.2 outputs easier to analyze, compare, and audit.

**Tasks**
1. Define canonical run-summary artifact schema.
2. Add reporting helper(s) for sweep and optimization summaries.
3. Add deterministic schema-lock tests for report fields.
4. Update docs with expected artifact layout and usage.

**Exit criteria**
- Stable summary artifact exists for both sweeps and optimizations.
- Report field naming and provenance metadata are locked by tests.

### WP6 — Release readiness and cut (Sprint 6)

**Goal**
Release v0.2 with synchronized code, tests, docs, and roadmap state.

**Tasks**
1. Verify each roadmap item is complete or explicitly deferred with rationale.
2. Run required CI checks and resolve regressions in-PR.
3. Prepare release notes + version bump.
4. Finalize `STATUS.md` with exact state and dates.

**Exit criteria**
- Required checks are green.
- Release notes capture behavior and compatibility impacts.
- `STATUS.md` accurately reflects shipped v0.2 scope.

## Sprint-by-sprint checklist

### Sprint 1
- [x] ADR determinism policy merged
- [x] ADR composition semantics merged
- [x] STATUS/roadmap sync completed

### Sprint 2
- [x] Constraint model + unit tests merged
- [x] Penalty/feasibility integration path merged

### Sprint 3
- [x] Determinism integration tests for constraints merged
- [x] Composition interfaces and staged baseline merged

### Sprint 4
- [x] Portfolio baseline + composition integration tests merged
- [x] Agent experiment generation v1 merged

### Sprint 5
- [x] Validation agent checks v1 merged
- [x] Canonical reporting artifact/schema + docs merged

### Sprint 6
- [x] Release readiness checklist complete
- [x] Version + release notes + final STATUS sync merged

## Risks and mitigations

1. **Contract drift across docs/code**
   - Mitigation: ADR-first for all public semantics and STATUS sync each sprint.
2. **Determinism regressions in composed strategies**
   - Mitigation: seed-locked integration tests per strategy path.
3. **Scope creep in agent tooling**
   - Mitigation: keep agents artifact-producing and simulation-agnostic.

## Required validation gates per sprint

- `python -m pre_commit run -a`
- `python -m mypy src tests`
- `pytest -q -m "not slow"`

No sprint is complete unless docs and STATUS are updated with shipped behavior.


## Completion status

All six planned v0.2 sprints are complete as of 2026-02-12, with roadmap items reflected in `STATUS.md` and release notes published in `docs/releases/v0.2.0.md`.
