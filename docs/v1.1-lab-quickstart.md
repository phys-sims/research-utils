# v1.1 Lab Quickstart: mixed-parameter optics optimization

1. Define a mixed `ParameterSpace` with continuous and categorical choices.
2. Use deterministic strategy seeds and runner seeds.
3. Run optimization and persist canonical summaries with structure metadata.
4. Re-run with the same seeds to reproduce candidate ordering and best-so-far outputs.

```python
from phys_sims_utils.harness import build_optimization_summary
from phys_sims_utils.ml import OptimizationRunner, Parameter, ParameterSpace
from phys_sims_utils.ml.strategies import RandomStrategy
from phys_sims_utils.shared import EvalResult

space = ParameterSpace(
    parameters=(
        Parameter(name="spacing", bounds=(0.1, 1.0)),
        Parameter(name="lens", choices=("convex", "concave")),
        Parameter(name="enabled", choices=(False, True)),
    )
)

def evaluate(theta: dict[str, float | int | str | bool], seed: int) -> EvalResult:
    spacing = float(theta["spacing"])
    lens_penalty = 0.0 if theta["lens"] == "convex" else 0.1
    enabled_penalty = 0.0 if theta["enabled"] else 0.2
    return EvalResult(theta=theta, objective=spacing + lens_penalty + enabled_penalty, seed=seed)

history = OptimizationRunner(
    strategy=RandomStrategy(parameter_space=space, seed=7),
    evaluator=evaluate,
    seed=100,
).run(iterations=25)

summary = build_optimization_summary(history)
assert "structure_values" in summary
```
